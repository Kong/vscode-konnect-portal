{
  "name": "vscode-konnect-dev-portal-toolkit",
  "version": "1.8.8",
  "displayName": "Konnect Dev Portal Toolkit",
  "description": "Live preview for MDC and Markdown files with dev portal integration",
  "icon": "images/icon.png",
  "license": "Apache-2.0",
  "type": "module",
  "scripts": {
    "dev": "vite build --watch --mode development",
    "lint": "eslint",
    "lint:fix": "eslint --fix",
    "typecheck": "tsc --noEmit",
    "watch": "vite build --watch",
    "test:unit": "vitest run",
    "test:unit:ui": "vitest --ui",
    "test:unit:coverage": "vitest run --coverage",
    "test:extension": "FORCE_COLOR=1 vscode-test",
    "build": "pnpm run build:webview && vite build --mode production && tsc --project tsconfig.build.json && pnpm build:extension-tests",
    "build:webview": "rimraf src/webview/webview.js && tsc --project tsconfig.webview.json",
    "build:extension-tests": "vite build --config vite.config.extension-tests.ts",
    "build-and-test-extension": "pnpm build && pnpm test:extension",
    "package": "vsce package --no-dependencies",
    "release": "FORCE_COLOR=1 commit-and-tag-version --config ./.versionrc.json",
    "vscode:prepublish": "pnpm run build",
    "commit": "cz"
  },
  "packageManager": "pnpm@10.28.2",
  "engines": {
    "node": ">=22.20.0",
    "pnpm": ">=10.28.2",
    "vscode": "^1.107.0"
  },
  "volta": {
    "node": "24.12.0",
    "pnpm": "10.28.2"
  },
  "dependencies": {
    "strip-ansi": "^7.1.2",
    "ufo": "^1.6.3",
    "uncrypto": "^0.1.3"
  },
  "devDependencies": {
    "@commitlint/cli": "^20.3.1",
    "@commitlint/config-conventional": "^20.3.1",
    "@digitalroute/cz-conventional-changelog-for-jira": "^8.0.1",
    "@kong/eslint-config-kong-ui": "^1.6.0",
    "@stylistic/stylelint-plugin": "^5.0.1",
    "@types/mocha": "^10.0.10",
    "@types/node": "~24.10.9",
    "@types/vscode": "^1.107.0",
    "@typescript-eslint/eslint-plugin": "^8.52.0",
    "@typescript-eslint/parser": "^8.52.0",
    "@vitest/coverage-v8": "4.0.18",
    "@vitest/ui": "^4.0.18",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.7.1",
    "commit-and-tag-version": "^12.6.1",
    "commitizen": "^4.3.1",
    "eslint": "^9.39.2",
    "glob": "^13.0.0",
    "jsdom": "^27.4.0",
    "lefthook": "^2.0.16",
    "mocha": "^11.7.5",
    "rimraf": "^6.1.2",
    "typescript": "^5.9.3",
    "vite": "^7.3.1",
    "vitest": "^4.0.18"
  },
  "publisher": "konghq",
  "repository": {
    "type": "git",
    "url": "https://github.com/Kong/vscode-konnect-portal.git"
  },
  "homepage": "https://github.com/Kong/vscode-konnect-portal",
  "bugs": {
    "url": "https://github.com/Kong/vscode-konnect-portal/issues"
  },
  "author": {
    "name": "Kong Inc.",
    "url": "https://konghq.com/"
  },
  "categories": [
    "Programming Languages",
    "Visualization"
  ],
  "keywords": [
    "markdown",
    "mdc",
    "live preview",
    "portal",
    "dev portal",
    "kong",
    "konnect",
    "documentation"
  ],
  "galleryBanner": {
    "color": "#0044f4",
    "theme": "dark"
  },
  "main": "./dist/extension.cjs",
  "activationEvents": [
    "onLanguage:markdown",
    "onLanguage:mdc"
  ],
  "pricing": "Free",
  "contributes": {
    "commands": [
      {
        "command": "kong.konnect.devPortal.openPreview",
        "title": "Open Portal Preview",
        "icon": "$(device-desktop)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.devPortal.refreshPreview",
        "title": "Refresh Portal Preview",
        "icon": "$(refresh)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.devPortal.configureToken",
        "title": "Configure Konnect Personal Access Token (PAT)",
        "icon": "$(key)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.devPortal.selectPortal",
        "title": "Select Portal",
        "icon": "$(globe)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.devPortal.deleteToken",
        "title": "Delete Access Token",
        "icon": "$(trash)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.selectRegion",
        "title": "Select Konnect Region",
        "icon": "$(globe)",
        "category": "Konnect Portal"
      },
      {
        "command": "kong.konnect.kongctl.install",
        "title": "Install CLI",
        "icon": "$(cloud-download)",
        "category": "kongctl"
      },
      {
        "command": "kong.konnect.kongctl.checkStatus",
        "title": "Check Status",
        "icon": "$(pulse)",
        "category": "kongctl"
      },
      {
        "command": "kong.konnect.kongctl.showDiagnostics",
        "title": "Show Diagnostics",
        "icon": "$(info)",
        "category": "kongctl"
      },
      {
        "command": "kong.konnect.kongctl.run",
        "title": "Run Command",
        "icon": "$(terminal)",
        "category": "kongctl"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "kong.konnect.devPortal.openPreview",
          "when": "(resourceExtname == .md || resourceExtname == .mdc) && !portalPreview.hasActivePreview",
          "group": "navigation"
        },
        {
          "command": "kong.konnect.devPortal.refreshPreview",
          "when": "(resourceExtname == .md || resourceExtname == .mdc) && portalPreview.hasActivePreview",
          "group": "navigation"
        }
      ],
      "editor/context": [
        {
          "command": "kong.konnect.devPortal.openPreview",
          "when": "(resourceExtname == .md || resourceExtname == .mdc) && !portalPreview.hasActivePreview",
          "group": "kong_konnect_devPortal@1"
        },
        {
          "command": "kong.konnect.devPortal.refreshPreview",
          "when": "(resourceExtname == .md || resourceExtname == .mdc) && portalPreview.hasActivePreview",
          "group": "kong_konnect_devPortal@1"
        }
      ],
      "commandPalette": [
        {
          "command": "kong.konnect.devPortal.openPreview"
        },
        {
          "command": "kong.konnect.devPortal.refreshPreview"
        },
        {
          "command": "kong.konnect.devPortal.configureToken"
        },
        {
          "command": "kong.konnect.devPortal.selectPortal"
        },
        {
          "command": "kong.konnect.devPortal.deleteToken"
        },
        {
          "command": "kong.konnect.kongctl.checkStatus"
        },
        {
          "command": "kong.konnect.kongctl.showDiagnostics"
        },
        {
          "command": "kong.konnect.kongctl.install",
          "when": "!kong.konnect.kongctl.available"
        },
        {
          "command": "kong.konnect.kongctl.run",
          "when": "kong.konnect.kongctl.available"
        }
      ]
    },
    "configuration": {
      "title": "Konnect Dev Portal Toolkit",
      "properties": {
        "kong.konnect.devPortal.autoOpenPreview": {
          "type": "boolean",
          "default": false,
          "description": "Automatically open preview when opening MDC/Markdown files"
        },
        "kong.konnect.devPortal.previewUpdateDelay": {
          "type": "number",
          "default": 500,
          "minimum": 500,
          "maximum": 3000,
          "description": "Delay in milliseconds before updating preview after content changes"
        },
        "kong.konnect.devPortal.readyTimeout": {
          "type": "number",
          "default": 5000,
          "minimum": 3000,
          "maximum": 10000,
          "description": "Timeout in milliseconds to wait for the Dev Portal to signal that the preview is ready"
        },
        "kong.konnect.devPortal.debug": {
          "type": "boolean",
          "default": false,
          "description": "Enable debug logging for the Portal Preview extension (useful for development and troubleshooting)"
        },
        "kong.konnect.devPortal.showMDCRecommendation": {
          "type": "boolean",
          "default": true,
          "description": "Show recommendation to install MDC extension when opening .mdc files"
        },
        "kong.konnect.devPortal.pagesDirectory": {
          "type": "string",
          "default": "pages",
          "description": "Directory relative to workspace root containing your pages (.md/.mdc files). When set, page paths will be calculated relative to this directory. Example: 'pages', 'docs/pages', or 'src/content/documentation'. Leave empty to disable path calculation.",
          "examples": [
            "pages",
            "docs/pages",
            "src/content/documentation"
          ]
        },
        "kong.konnect.devPortal.snippetsDirectory": {
          "type": "string",
          "default": "snippets",
          "description": "Directory relative to workspace root containing your snippets (.md/.mdc files). When set, snippets will be sent with snippet_name instead of path. Example: 'snippets', 'content/snippets', or 'src/snippets'. Subdirectories are not supported. Leave empty to disable snippet detection.",
          "examples": [
            "snippets",
            "content/snippets",
            "src/snippets"
          ]
        },
        "kong.konnect.devPortal.injectSnippets": {
          "type": "boolean",
          "default": true,
          "description": "Automatically inject all snippets from your snippets directory, if configured, into the portal preview so the local snippet content is available in page previews. Set to false to only load published snippets in the preview."
        },
        "kong.konnect.region": {
          "type": "string",
          "default": "us",
          "description": "The Konnect region code to use for API requests (e.g., 'us', 'eu', 'au', 'me', 'in', 'sg'). Set via the 'Select Konnect Region' command as needed."
        },
        "kong.konnect.kongctl.path": {
          "type": "string",
          "default": "",
          "description": "Path to the kongctl executable. Defaults to 'kongctl' (from PATH). Specify full path if kongctl is installed in a custom location."
        },
        "kong.konnect.kongctl.timeout": {
          "type": "number",
          "default": 30000,
          "minimum": 5000,
          "maximum": 120000,
          "description": "Timeout for kongctl commands in milliseconds"
        }
      }
    }
  },
  "config": {
    "commitizen": {
      "path": "./node_modules/@digitalroute/cz-conventional-changelog-for-jira",
      "skipScope": false,
      "jiraOptional": true,
      "jiraLocation": "post-description",
      "jiraPrepend": "[",
      "jiraAppend": "]"
    }
  }
}
